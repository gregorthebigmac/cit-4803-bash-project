#!/bin/bash

# shellcheck source=src/system_files/bin/sys_bin/error_report.sh
source $root_dir/system_files/bin/sys_bin/error_report.sh
# shellcheck source=src/system_files/bin/sys_bin/get_dir.sh
source $root_dir/system_files/bin/sys_bin/get_dir.sh

destination_dir="$1"

if cd $destination_dir; then
	this_path=$(pwd)
	this_dir="$(basename $this_path)"
	permissions_file="$(cat ".$this_dir")"
	if [[ "$permissions_file" == "root" ]]; then
		echo "cd: not allowed! Already at root of file system!"
		cd $root_dir/file_system
	else current_dir=$(pwd)
	fi
else echo "cd: $destination_dir doesn't exist!"
fi
